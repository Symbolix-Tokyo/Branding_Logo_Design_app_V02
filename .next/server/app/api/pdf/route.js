"use strict";(()=>{var e={};e.id=809,e.ids=[809],e.modules={8524:e=>{e.exports=require("@sparticuz/chromium")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7250:e=>{e.exports=import("puppeteer-core")},6890:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{originalPathname:()=>h,patchFetch:()=>d,requestAsyncStorage:()=>c,routeModule:()=>u,serverHooks:()=>m,staticGenerationAsyncStorage:()=>l});var o=a(9303),n=a(8716),i=a(670),s=a(2820),p=e([s]);s=(p.then?(await p)():p)[0];let u=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/pdf/route",pathname:"/api/pdf",filename:"route",bundlePath:"app/api/pdf/route"},resolvedPagePath:"/Users/magibalthasar/Desktop/03_VS_code_Folder/Branding_Logo_Design_app_V02/app/api/pdf/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:c,staticGenerationAsyncStorage:l,serverHooks:m}=u,h="/api/pdf/route";function d(){return(0,i.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:l})}r()}catch(e){r(e)}})},2820:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{GET:()=>d,dynamic:()=>c,runtime:()=>u});var o=a(7070),n=a(8524),i=a.n(n),s=a(7250),p=e([s]);s=(p.then?(await p)():p)[0];let u="nodejs",c="force-dynamic";async function d(e){try{let t=new URL(e.url),a=t.searchParams.get("projectId"),r="1"===t.searchParams.get("watermark");if(!a)return o.NextResponse.json({error:"projectId required"},{status:400});let n=await i().executablePath(),p=await s.default.launch({args:i().args,executablePath:n,headless:!0}),d=await p.newPage();await d.setViewport({width:1400,height:900});let u=t.origin,c=`${u}/print/${a}?watermark=${r?"1":"0"}`;await d.goto(c,{waitUntil:"networkidle0"}),await d.waitForFunction(()=>!0===window.__PRINT_READY__);let l=await d.pdf({format:"A4",landscape:!0,printBackground:!0,margin:{top:"0mm",right:"0mm",bottom:"0mm",left:"0mm"}});return await d.close(),await p.close(),new o.NextResponse(new Uint8Array(l),{status:200,headers:{"Content-Type":"application/pdf","Content-Disposition":`attachment; filename=proposal_${a}.pdf`,"Cache-Control":"no-store"}})}catch(e){return console.error("PDF generation error:",e),o.NextResponse.json({error:"PDF generation failed",detail:e?.message??String(e)},{status:500})}}r()}catch(e){r(e)}})}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[276,972],()=>a(6890));module.exports=r})();