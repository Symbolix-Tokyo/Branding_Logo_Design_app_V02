"use strict";(()=>{var e={};e.id=809,e.ids=[809],e.modules={8524:e=>{e.exports=require("@sparticuz/chromium")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2342:e=>{e.exports=require("playwright-core")},3284:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>g,patchFetch:()=>w,requestAsyncStorage:()=>l,routeModule:()=>c,serverHooks:()=>h,staticGenerationAsyncStorage:()=>m});var a={};r.r(a),r.d(a,{GET:()=>u,dynamic:()=>d,runtime:()=>p});var o=r(9303),i=r(8716),n=r(670),s=r(7070);let p="nodejs",d="force-dynamic";async function u(e){try{let t=new URL(e.url),a=t.searchParams.get("projectId"),o="1"===t.searchParams.get("watermark");if(!a)return s.NextResponse.json({error:"projectId required"},{status:400});let i=(await Promise.resolve().then(r.t.bind(r,8524,23))).default,{chromium:n}=await Promise.resolve().then(r.t.bind(r,2342,23)),p=await i.executablePath(),d=await n.launch({args:i.args,executablePath:p,headless:!0}),u=await d.newPage({viewport:{width:1400,height:900}}),c=process.env.VERCEL_URL?`https://${process.env.VERCEL_URL}`:"http://localhost:3000",l=`${c}/print/${a}?watermark=${o?"1":"0"}`;await u.goto(l,{waitUntil:"networkidle"}),await u.waitForFunction(()=>!0===window.__PRINT_READY__);let m=await u.pdf({format:"A4",landscape:!0,printBackground:!0,margin:{top:"0mm",right:"0mm",bottom:"0mm",left:"0mm"}});return await u.close(),await d.close(),new s.NextResponse(new Uint8Array(m),{status:200,headers:{"Content-Type":"application/pdf","Content-Disposition":`attachment; filename=proposal_${a}.pdf`,"Cache-Control":"no-store"}})}catch(e){return console.error("PDF generation error:",e),s.NextResponse.json({error:"PDF generation failed",detail:e?.message??String(e)},{status:500})}}let c=new o.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/pdf/route",pathname:"/api/pdf",filename:"route",bundlePath:"app/api/pdf/route"},resolvedPagePath:"/Users/magibalthasar/Desktop/03_VS_code_Folder/Branding_Logo_Design_app_V02/app/api/pdf/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:l,staticGenerationAsyncStorage:m,serverHooks:h}=c,g="/api/pdf/route";function w(){return(0,n.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:m})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[276,972],()=>r(3284));module.exports=a})();